extends ./header.pug
block content 
    .container
         section(style='background-color: #eee;')
            .container.my-5.py-5
                .row.d-flex.justify-content-center
                    .col-md-12.col-lg-10.col-xl-8
                        if posts && posts.length > 0
                            for post in posts 
                                .card.mb-3.card-post
                                    .card-body
                                        .d-flex.justify-content-between.align-items-center
                                            div.d-flex.flex-start.align-items-center
                                                img.rounded-circle.shadow-1-strong.me-3(src='https://toigingiuvedep.vn/wp-content/uploads/2021/05/hinh-anh-avatar-de-thuong.jpg', alt='avatar', width='60', height='60')
                                                div
                                                    h6.fw-bold.text-primary.mb-1 #{post.userPostId.email}
                                                    input.getIdPost(type='hidden', name='idpost', value=post._id)
                                            
                                        h5.mt-2(style='font-weight: bold;') #{post.title}
                                        p #{post.description}
    script(type="text/javascript").
        const post = document.querySelectorAll(".card-post");
        const id = document.querySelectorAll(".getIdPost");
        post.forEach(function (item, index) {
        item.addEventListener("click", function handle() {
            location.href=`/post/postDetail/${id[index].value}`;
        });
        });